uploadPresignedUrl:
    handler: src/functions/uploadPresignedUrl.handler
    event:
        - httpApi:
              path: /upload-url
              method: post
              authorizer:
                  name: jwtCognitoAuthorizer
deleteImage:
    handler: src/functions/deleteImage.handler
    event:
        - httpApi:
              path: /image
              method: delete
              authorizer:
                  name: jwtCognitoAuthorizer
getImages:
    handler: src/functions/getImages.handler
    event:
        - httpApi:
              path: /images
              method: get
processImage:
    handler: src/functions/processImage.handler
    event:
        - s3:
              bucket: ${self:custom.s3ImagesBucket}
              event: s3:ObjectCreated:Put
              rules:
                  - prefix: uploads/
              existing: true # the bucket already exists
